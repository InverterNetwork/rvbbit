{:reco-preview "-932781051", :http-reqs {:save-flowset {:status "success", :url "http://localhost:8888/save", :start-unix 1673798007629, :keys 2, :result {:status "saved"}, :ended-unix 1673798007706}}, :meta {:recos-sys {:fields {:query_map {:data-type "string", :distinct 21, :commons {"[{:select [[[[:sum :rows]] :rows] :DAY_OF_WEEK :DISTRICT], :from [\"query/offenses_drag_285\"], :group-by [:DAY_OF_WEEK :DISTRICT]}]" 1, "[{:select [[[[:sum :REPORTING_AREA]] :REPORTING_AREA] :DAY_OF_WEEK :DISTRICT], :from [\"query/offenses_drag_285\"], :group-by [:DAY_OF_WEEK :DISTRICT]}]" 1, "[{:select [[[[:sum :HOUR]] :HOUR] :DAY_OF_WEEK :SHOOTING], :from [\"query/offenses_drag_285\"], :group-by [:DAY_OF_WEEK :SHOOTING]}]" 1}, :cardinality 100}, :shape_name {:data-type "string", :distinct 1, :commons {"basic_timeseries_color" 21}, :cardinality 4}, :w {:data-type "unknown", :distinct 1, :commons {nil 21}, :cardinality 4}, :combo_edn {:data-type "string", :distinct 21, :commons {"\"DAY_OF_WEEK, REPORTING_AREA, UCR_PART\"" 1, "\"DAY_OF_WEEK, OCCURRED_ON_DATE, rows\"" 1, "\"HOUR, OCCURRED_ON_DATE, SHOOTING\"" 1}, :cardinality 100}, :query_map_str {:data-type "string", :distinct 21, :commons {"SELECT (SUM(rows)) AS rows, OCCURRED_ON_DATE, UCR_PART FROM 'query/offenses_drag_285' GROUP BY OCCURRED_ON_DATE, UCR_PART" 1, "SELECT (SUM(rows)) AS rows, DAY_OF_WEEK, UCR_PART FROM 'query/offenses_drag_285' GROUP BY DAY_OF_WEEK, UCR_PART" 1, "SELECT (SUM(REPORTING_AREA)) AS REPORTING_AREA, DAY_OF_WEEK, SHOOTING FROM 'query/offenses_drag_285' GROUP BY DAY_OF_WEEK, SHOOTING" 1}, :cardinality 100}, :combo_hash {:data-type "string", :distinct 21, :commons {"-1744497220" 1, "-450299989" 1, "1307911288" 1}, :cardinality 100}, :h {:data-type "unknown", :distinct 1, :commons {nil 21}, :cardinality 4}, :condis {:data-type "string", :distinct 1, :commons {"" 21}, :cardinality 4}, :table_name {:data-type "string", :distinct 1, :commons {"offenses_drag_285" 21}, :cardinality 4}, :connection_id {:data-type "string", :distinct 1, :commons {"1611117821" 21}, :cardinality 4}, :context_hash {:data-type "string", :distinct 1, :commons {"1334628524" 21}, :cardinality 4}, :viz_map {:data-type "string", :distinct 21, :commons {"[:vega-lite {:layer [{:encoding {:x {:field :DAY_OF_WEEK, :type \"temporal\", :sort \"x\"}, :y {:aggregate \"sum\", :field :HOUR, :type \"quantitative\"}, :row {:field nil, :legend nil}, :size {:legend nil}, :shape {:legend nil}, :column {:field nil, :legend nil}, :color {:scale {:scheme \"inferno\"}, :legend nil, :field :UCR_PART, :type \"ordinal\"}}, :mark {:type \"line\", :interpolate \"monotone\", :point \"transparent\", :tooltip {:content \"encoding\"}}}], :data {:values \"query/offenses_drag_285\"}} {:actions false}]" 1, "[:vega-lite {:layer [{:encoding {:x {:field :DAY_OF_WEEK, :type \"temporal\", :sort \"x\"}, :y {:aggregate \"sum\", :field :REPORTING_AREA, :type \"quantitative\"}, :row {:field nil, :legend nil}, :size {:legend nil}, :shape {:legend nil}, :column {:field nil, :legend nil}, :color {:scale {:scheme \"inferno\"}, :legend nil, :field :DISTRICT, :type \"ordinal\"}}, :mark {:type \"line\", :interpolate \"monotone\", :point \"transparent\", :tooltip {:content \"encoding\"}}}], :data {:values \"query/offenses_drag_285\"}} {:actions false}]" 1, "[:vega-lite {:layer [{:encoding {:x {:field :OCCURRED_ON_DATE, :type \"temporal\", :sort \"x\"}, :y {:aggregate \"sum\", :field :rows, :type \"quantitative\"}, :row {:field nil, :legend nil}, :size {:legend nil}, :shape {:legend nil}, :column {:field nil, :legend nil}, :color {:scale {:scheme \"inferno\"}, :legend nil, :field :DAY_OF_WEEK, :type \"ordinal\"}}, :mark {:type \"line\", :interpolate \"monotone\", :point \"transparent\", :tooltip {:content \"encoding\"}}}], :data {:values \"query/offenses_drag_285\"}} {:actions false}]" 1}, :cardinality 100}}, :rowcount 21}, :blocks-sys {:fields {:block_key {:data-type "string", :distinct 7, :commons {":block-1943" 1, ":block-7113" 1, ":block-6644" 1}, :cardinality 100}, :block_name {:data-type "string", :distinct 6, :commons {"point_map_colors - \"Lat, Long, UCR_PART\" - 520" 2, "select-DISTRICT-offenses" 1, "select-all-offenses" 1}, :cardinality 85}, :queries {:data-type "integer", :distinct 2, :commons {1 4, 2 3}, :cardinality 28}, :views {:data-type "integer", :distinct 2, :commons {1 5, 0 2}, :cardinality 28}, :block_data {:data-type "string", :distinct 7, :commons {"{:h 9, :w 5, :connection-id \"-1616373432\", :name \"select-DISTRICT-offenses\", :queries {:offenses-drag-DISTRICT-676 {:select [:DISTRICT [[:count 1] :rowcnt]], :from [:offenses], :group-by [:DISTRICT], :order-by [[:rowcnt :desc]]}}, :root [30 5]}" 1, "{:h 7, :w 30, :connection-id \"-1616373432\", :name \"select-all-offenses\", :queries {:offenses-drag-285 {:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT :offenses-drag-DISTRICT-676/DISTRICT]}}, :root [38 1]}" 1, "{:name \"point_map_colors - \\\"Lat, Long, UCR_PART\\\" - 520\", :w 12, :selected-view :oz, :root [56 9], :h 11, :connection-id \"-1616373432\", :queries {:gen-viz-480 {:select-distinct [:Lat :Long :UCR_PART], :from [:query/offenses-drag-285]}, :gen-viz-82 {:select [[[:min :Long] :min-long] [[:max :Long] :max-long] [[:min :Lat] :min-lat] [[:max :Lat] :max-lat] [[:avg :Lat] :a-lat] [[:avg :Long] :a-long] [[:round [:raw [\"(\" [:max :Long] \" - \" [:min :Long] \") * 55\"]] 2] :long_diff] [[:round [:raw [\"(\" [:max :Lat] \" - \" [:min :Lat] \") * 55\"]] 2] :lat_diff]], :from [:query/offenses-drag-285], :where [:and [:<> :Lat -1] [:<> :Lat nil] [:<> :Long -1] [:<> :Long nil]]}}, :conditionals {:country-lines? true, :us-counties? true, :us-states? false, :geo-background? true}, :views {:oz [:box :child [:vega-lite {:width \"container\", :height :panel-height+50, :autosize \"none\", :padding {:top 0, :bottom 0, :left 0, :right 0}, :params [{:name \"tx\", :expr \"width/2\"} {:name \"ty\", :expr \"height/2\"} {:name \"zoom_precise\", :value 12.15, :bind {:input \"range\", :min 2, :max 30, :step 0.05}} {:name \"centerY\", :value :gen-viz-82/a_lat.0, :bind {:input \"range\", :min :gen-viz-82/min_lat.0, :max :gen-viz-82/max_lat.0, :full-min -60, :full-max 60, :step 1.0E-6}} {:name \"centerX\", :value :gen-viz-82/a_long.0, :bind {:input \"range\", :min :gen-viz-82/min_long.0, :max :gen-viz-82/max_long.0, :full-min -180, :full-max 180, :step 1.0E-6}} {:name \"baseTileSize\", :value 256} {:name \"tileUrl\", :value \"https://a.tile.openstreetmap.org/\"} {:name \"zoom\", :expr \"ceil(zoom_precise)\"} {:name \"tilesCount\", :expr \"pow(2,zoom)\"} {:name \"tileSize\", :expr \"baseTileSize*pow(2,zoom_precise-zoom)\"} {:name \"maxTiles\", :expr \"ceil(max(height,width)/tileSize +1)\"} {:name \"basePoint\", :expr \"invert('projection',[0,0])\"} {:name \"dii\", :expr \"((basePoint[0]+180)/360*tilesCount)\"} {:name \"di\", :expr \"floor(dii)\"} {:name \"dx\", :expr \"round((floor(dii)-dii)*tileSize)\"} {:name \"djj\", :expr \"((1-log(tan(basePoint[1]*PI/180) + 1/cos(basePoint[1]*PI/180))/PI)/2 *tilesCount)\"} {:name \"dj\", :expr \"floor(djj)\"} {:name \"dy\", :expr \"round((floor(djj)-djj)*tileSize)\"} {:name \"scale\", :expr \"baseTileSize * pow(2,zoom_precise) / (2 * PI)\"}], :layer [[:if :condi/geo-background? {:data {:name \"tile_list\", :sequence {:start 0, :stop {:signal \"maxTiles\"}, :as \"a\"}}, :transform [{:calculate \"sequence(0,maxTiles)\", :as \"b\"} {:flatten [\"b\"]} {:calculate \"tileUrl+zoom+'/'+(datum.a+di+tilesCount)%tilesCount+'/'+((datum.b+dj))+'.png'\", :as \"url\"} {:calculate \"(datum.a * tileSize + dx)+(tileSize/2)\", :as \"x\"} {:calculate \"(datum.b * tileSize + dy)+(tileSize/2)\", :as \"y\"}], :mark {:type \"image\", :opacity 0.5, :background \"#000000\", :fill \"#000000\", :width {:signal \"tileSize\"}, :height {:signal \"tileSize\"}}, :encoding {:x {:field \"x\", :type \"quantitative\", :scale nil}, :y {:field \"y\", :type \"quantitative\", :scale nil}, :url {:field \"url\", :type \"nominal\"}}} {:mark \"geoshape\", :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}}] {:data {:values :gen-viz-480}, :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}, :mark {:type \"point\"}, :encoding {:latitude {:field :Lat, :type \"quantitative\"}, :size {:field nil, :type \"quantitative\"}, :color {:field :UCR_PART, :scale {:scheme \"darkmulti\"}, :type \"nominal\"}, :longitude {:field :Long, :type \"quantitative\"}}, :background \"transparent\"} [:if :condi/us-counties? {:data {:name \"us-counties\", :url \"https://raw.githubusercontent.com/vega/vega/61dd8b1fdb9a268dc80c986938a5983d27cf8f2c/docs/data/us-10m.json\", :format {:type \"topojson\", :feature \"counties\"}}, :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}, :mark \"geoshape\", :encoding {:fill {:value \"#a500ff22\"}, :fillOpacity {:value 0.1}, :stroke {:value \"#00ffa5\"}, :strokeWidth {:value 1}}, :background \"transparent\"} {:mark \"geoshape\", :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}}] [:if :condi/us-states? {:data {:name \"us-states\", :url \"https://raw.githubusercontent.com/vega/vega/61dd8b1fdb9a268dc80c986938a5983d27cf8f2c/docs/data/us-10m.json\", :format {:type \"topojson\", :feature \"states\"}}, :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}, :mark \"geoshape\", :encoding {:fill {:value \"#005aff\"}, :fillOpacity {:value 0.1}, :stroke {:value \"#ff00da\"}, :strokeWidth {:value 2}}, :background \"transparent\"} {:mark \"geoshape\", :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}}] [:if :condi/country-lines? {:data {:name \"world\", :url \"https://vega.github.io/vega-datasets/data/world-110m.json\", :format {:type \"topojson\", :feature \"countries\"}}, :mark \"geoshape\", :encoding {:fill {:value \"#001233\"}, :fillOpacity {:value 0.1}, :stroke {:value \"#ffa500\"}, :strokeWidth {:value 2}}, :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}} {:mark \"geoshape\", :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}}] {:data {:name \"us-states\", :url \"ext/boston_police_districts.json\", :format {:type \"topojson\", :feature \"collection\"}}, :projection {:type \"mercator\", :scale {:expr \"scale\"}, :center [{:signal \"centerX\"} {:signal \"centerY\"}], :translate [{:signal \"tx\"} {:signal \"ty\"}]}, :mark \"geoshape\", :encoding {:fill {:value \"#000000\"}, :fillOpacity {:value 0.1}, :stroke {:value \"#000000\"}, :strokeWidth {:value 2}}, :background \"transparent\"}], :background \"transparent\", :config {:view {:stroke \"transparent\"}}} {:actions false}]]}}" 1}, :cardinality 100}, :view_names {:data-type "string", :distinct 2, :commons {":oz" 5, "" 2}, :cardinality 28}, :query_names {:data-type "string", :distinct 7, :commons {":offenses-drag-DISTRICT-676" 1, ":offenses-drag-285" 1, ":gen-viz-480 :gen-viz-82" 1}, :cardinality 100}}, :rowcount 7}, :fields-sys {:fields {:field_name {:data-type "string", :distinct 17, :commons {"DISTRICT" 1, "SHOOTING" 1, "HOUR" 1}, :cardinality 100}, :field_type {:data-type "string", :distinct 11, :commons {"DECIMAL" 7, "BOOLEAN" 1, "VARCHAR(58)" 1}, :cardinality 64}, :data_type {:data-type "string", :distinct 5, :commons {"float" 7, "string" 7, "boolean" 1}, :cardinality 29}}, :rowcount 17}, :offenses-drag-285 {:fields {:SHOOTING {:data-type "unknown", :distinct 1, :commons {nil 500}, :cardinality 0}, :DISTRICT {:data-type "string", :distinct 1, :commons {"A1" 500}, :cardinality 0}, :INCIDENT_NUMBER {:data-type "string", :distinct 453, :commons {"I182066917" 4, "I182066973" 4, "I182067074" 4}, :cardinality 90}, :OFFENSE_DESCRIPTION {:data-type "string", :distinct 89, :commons {"ASSAULT SIMPLE - BATTERY" 33, "PROPERTY - LOST" 30, "SICK/INJURED/MEDICAL - PERSON" 30}, :cardinality 17}, :DAY_OF_WEEK {:data-type "string", :distinct 7, :commons {"0001-01-06" 99, "0001-01-08" 84, "0001-01-07" 74}, :cardinality 1}, :MONTH {:data-type "integer", :distinct 4, :commons {8 435, 9 63, 5 1}, :cardinality 0}, :YEAR {:data-type "integer", :distinct 1, :commons {2018 500}, :cardinality 0}, :HOUR {:data-type "integer", :distinct 24, :commons {18 41, 13 37, 14 34}, :cardinality 4}, :STREET {:data-type "string", :distinct 124, :commons {"WASHINGTON ST" 32, "TREMONT ST" 26, "BOYLSTON ST" 22}, :cardinality 24}, :OFFENSE_CODE_GROUP {:data-type "string", :distinct 43, :commons {"Larceny" 85, "Motor Vehicle Accident Response" 50, "Medical Assistance" 37}, :cardinality 8}, :UCR_PART {:data-type "string", :distinct 4, :commons {"Part Three" 228, "Part Two" 140, "Part One" 131}, :cardinality 0}, :Long {:data-type "float", :distinct 239, :commons {nil 59, -71.05976489 17, -71.05474135 13}, :cardinality 47}, :REPORTING_AREA {:data-type "integer", :distinct 66, :commons {nil 59, 111 27, 77 21}, :cardinality 13}, :Location {:data-type "string", :distinct 239, :commons {"(0.00000000, 0.00000000)" 59, "(42.36183857, -71.05976489)" 17, "(42.35997967, -71.05474135)" 13}, :cardinality 47}, :OFFENSE_CODE {:data-type "integer", :distinct 89, :commons {802 33, 3006 30, 3201 30}, :cardinality 17}, :Lat {:data-type "float", :distinct 239, :commons {nil 59, 42.36183857 17, 42.35997967 13}, :cardinality 47}, :OCCURRED_ON_DATE {:data-type "string", :distinct 429, :commons {"2018-08-27 15:05:00.000000" 4, "2018-08-21 13:15:00.000000" 4, "2018-08-26 02:00:00.000000" 4}, :cardinality 85}}, :rowcount 500}, :viz-shapes-sys {:fields {:combo_edn {:data-type "string", :distinct 21, :commons {"\"DAY_OF_WEEK, REPORTING_AREA, UCR_PART\"" 1, "\"DAY_OF_WEEK, OCCURRED_ON_DATE, rows\"" 1, "\"HOUR, OCCURRED_ON_DATE, SHOOTING\"" 1}, :cardinality 100}, :recos {:data-type "integer", :distinct 1, :commons {1 21}, :cardinality 4}}, :rowcount 21}, :tables-sys {:fields {:db_schema {:data-type "string", :distinct 1, :commons {"none" 2}, :cardinality 50}, :db_catalog {:data-type "unknown", :distinct 1, :commons {nil 2}, :cardinality 50}, :connection_id {:data-type "string", :distinct 1, :commons {"-1616373432" 2}, :cardinality 50}, :schema_cat {:data-type "unknown", :distinct 1, :commons {nil 2}, :cardinality 50}, :table_name {:data-type "string", :distinct 2, :commons {"offenses" 1, "offense_codes" 1}, :cardinality 100}, :fields {:data-type "integer", :distinct 2, :commons {18 1, 3 1}, :cardinality 100}}, :rowcount 2}, :gen-viz-820 {:fields {:rows {:data-type "integer", :distinct 46, :commons {28 30, 30 28, 32 28}, :cardinality 9}, :OCCURRED_ON_DATE {:data-type "string", :distinct 498, :commons {"2015-08-29" 2, "2016-05-29" 2, "2016-02-11" 1}, :cardinality 99}, :SHOOTING {:data-type "unknown", :distinct 2, :commons {nil 498, 1 2}, :cardinality 0}}, :rowcount 500}, :files-sys {:fields {:file_path {:data-type "string", :distinct 13, :commons {"./screens/boston-crime-test-screen.edn" 1, "./screens/boston-crime-test-screen-filter.edn" 1, "./screens/boston-pd-districts-map-test.edn" 1}, :cardinality 100}, :screen_name {:data-type "string", :distinct 12, :commons {"unnamed-screen!" 2, "highlight-test-wednesday" 1, "vselect-test-saturaday!" 1}, :cardinality 92}, :blocks {:data-type "integer", :distinct 8, :commons {6 3, 11 2, 3 2}, :cardinality 61}, :queries {:data-type "integer", :distinct 8, :commons {6 3, 10 2, 4 2}, :cardinality 61}, :ts {:data-type "datetime", :distinct 13, :commons {"2023-01-15T15:42:43.623Z" 1, "2023-01-14T20:55:38.949Z" 1, "2023-01-14T20:55:39.418Z" 1}, :cardinality 100}}, :rowcount 13}, :gen-viz-82d {:fields {:min_long {:data-type "float", :distinct 1, :commons {-71.16667608 1}, :cardinality 100}, :max_long {:data-type "float", :distinct 1, :commons {-70.96367615 1}, :cardinality 100}, :min_lat {:data-type "float", :distinct 1, :commons {42.25418512 1}, :cardinality 100}, :max_lat {:data-type "float", :distinct 1, :commons {42.37746305 1}, :cardinality 100}, :a_lat {:data-type "float", :distinct 1, :commons {42.30005270854828 1}, :cardinality 100}, :a_long {:data-type "float", :distinct 1, :commons {-71.06325855819834 1}, :cardinality 100}, :long_diff {:data-type "float", :distinct 1, :commons {11.16 1}, :cardinality 100}, :lat_diff {:data-type "float", :distinct 1, :commons {6.78 1}, :cardinality 100}}, :rowcount 1}, :viz-tables-sys {:fields {:table {:data-type "string", :distinct 7, :commons {"offenses_drag_DISTRICT_676" 1, "offenses_drag_285" 1, "gen_viz_82" 1}, :cardinality 100}, :recos {:data-type "integer", :distinct 7, :commons {8 1, 407 1, 14 1}, :cardinality 100}}, :rowcount 7}, :offenses-drag-DISTRICT-676 {:fields {:DISTRICT {:data-type "string", :distinct 13, :commons {"E5" 1, "B2" 1, "C6" 1}, :cardinality 100}, :rowcnt {:data-type "integer", :distinct 13, :commons {35717 1, 1765 1, 23460 1}, :cardinality 100}}, :rowcount 13}, :gen-viz-1103 {:fields {:rows {:data-type "integer", :distinct 7, :commons {2 2, 11105 1, 1 1}, :cardinality 87}, :UCR_PART {:data-type "string", :distinct 5, :commons {"Part Two" 2, "Part Three" 2, "Part One" 2}, :cardinality 62}, :SHOOTING {:data-type "unknown", :distinct 2, :commons {nil 5, 1 3}, :cardinality 25}}, :rowcount 8}, :viz-shapes0-sys {:fields {:shape {:data-type "string", :distinct 16, :commons {"point_map_freq" 1, "basic_h_bar_avg_color" 1, "point_map" 1}, :cardinality 100}, :recos {:data-type "integer", :distinct 10, :commons {18 2, 12 2, 6 2}, :cardinality 62}}, :rowcount 16}, :gen-viz-480 {:fields {:Lat {:data-type "float", :distinct 343, :commons {42.36674654 3, 42.36183857 3, 42.36240281 3}, :cardinality 68}, :Long {:data-type "float", :distinct 343, :commons {-71.05919355 3, -71.05213281 3, -71.06593235 3}, :cardinality 68}, :UCR_PART {:data-type "string", :distinct 4, :commons {"Part Three" 233, "Part Two" 139, "Part One" 127}, :cardinality 0}}, :rowcount 500}, :gen-viz-313 {:fields {:rows {:data-type "integer", :distinct 27, :commons {1507 2, 960 1, 1022 1}, :cardinality 96}, :YEAR {:data-type "integer", :distinct 4, :commons {2018 7, 2017 7, 2016 7}, :cardinality 14}, :DAY_OF_WEEK {:data-type "string", :distinct 7, :commons {"0001-01-08" 4, "0001-01-07" 4, "0001-01-06" 4}, :cardinality 25}}, :rowcount 28}, :query-preview {:fields {:rows {:data-type "integer", :distinct 7, :commons {1 418, 2 59, 3 15}, :cardinality 1}, :OCCURRED_ON_DATE {:data-type "string", :distinct 500, :commons {"2015-06-16 10:20:00.000000" 1, "2015-07-04 02:59:00.000000" 1, "2015-06-26 19:00:00.000000" 1}, :cardinality 100}, :SHOOTING {:data-type "unknown", :distinct 1, :commons {nil 500}, :cardinality 0}}, :rowcount 500}, :gen-viz-457 {:fields {:DISTRICT {:data-type "string", :distinct 1, :commons {"A1" 1}, :cardinality 100}}, :rowcount 1}, :gen-viz-82 {:fields {:min_long {:data-type "float", :distinct 1, :commons {-71.15765076 1}, :cardinality 100}, :max_long {:data-type "float", :distinct 1, :commons {-71.04885037 1}, :cardinality 100}, :min_lat {:data-type "float", :distinct 1, :commons {42.25060071 1}, :cardinality 100}, :max_lat {:data-type "float", :distinct 1, :commons {42.37618068 1}, :cardinality 100}, :a_lat {:data-type "float", :distinct 1, :commons {42.356733944172305 1}, :cardinality 100}, :a_long {:data-type "float", :distinct 1, :commons {-71.06112996712561 1}, :cardinality 100}, :long_diff {:data-type "float", :distinct 1, :commons {5.98 1}, :cardinality 100}, :lat_diff {:data-type "float", :distinct 1, :commons {6.91 1}, :cardinality 100}}, :rowcount 1}, :offenses {:fields {:SHOOTING {:data-type "unknown", :distinct 1, :commons {nil 500}, :cardinality 0}, :DISTRICT {:data-type "string", :distinct 13, :commons {"C11" 82, "B2" 75, "B3" 49}, :cardinality 2}, :INCIDENT_NUMBER {:data-type "string", :distinct 454, :commons {"I182070397" 5, "I182070779" 4, "I182070889" 3}, :cardinality 90}, :OFFENSE_DESCRIPTION {:data-type "string", :distinct 89, :commons {"SICK/INJURED/MEDICAL - PERSON" 43, "VERBAL DISPUTE" 34, "INVESTIGATE PERSON" 33}, :cardinality 17}, :DAY_OF_WEEK {:data-type "string", :distinct 7, :commons {"0001-01-07" 228, "0001-01-08" 178, "0001-01-06" 75}, :cardinality 1}, :MONTH {:data-type "integer", :distinct 4, :commons {9 477, 8 21, 7 1}, :cardinality 0}, :YEAR {:data-type "integer", :distinct 1, :commons {2018 500}, :cardinality 0}, :HOUR {:data-type "integer", :distinct 24, :commons {18 45, 14 33, 20 32}, :cardinality 4}, :STREET {:data-type "string", :distinct 275, :commons {nil 41, "WASHINGTON ST" 20, "HUNTINGTON AVE" 12}, :cardinality 55}, :OFFENSE_CODE_GROUP {:data-type "string", :distinct 41, :commons {"Motor Vehicle Accident Response" 69, "Medical Assistance" 50, "Larceny" 41}, :cardinality 8}, :UCR_PART {:data-type "string", :distinct 4, :commons {"Part Three" 265, "Part Two" 140, "Part One" 93}, :cardinality 0}, :Long {:data-type "float", :distinct 413, :commons {-1 6, -71.1136693 5, nil 5}, :cardinality 82}, :REPORTING_AREA {:data-type "integer", :distinct 282, :commons {nil 42, 519 6, 177 5}, :cardinality 56}, :Location {:data-type "string", :distinct 413, :commons {"(-1.00000000, -1.00000000)" 6, "(0.00000000, 0.00000000)" 5, "(42.24635332, -71.11366930)" 5}, :cardinality 82}, :OFFENSE_CODE {:data-type "integer", :distinct 89, :commons {3006 43, 3301 34, 3115 33}, :cardinality 17}, :Lat {:data-type "float", :distinct 413, :commons {-1 6, 42.24635332 5, nil 5}, :cardinality 82}, :OCCURRED_ON_DATE {:data-type "string", :distinct 404, :commons {"2018-09-02 00:00:00.000000" 5, "2018-09-03 10:00:00.000000" 5, "2018-09-01 17:03:00.000000" 5}, :cardinality 80}}, :rowcount 500}, :connections-sys {:fields {:database_name {:data-type "string", :distinct 4, :commons {"SQLite" 3, "*cache-db*" 2, "PostgreSQL" 1}, :cardinality 57}, :connection_id {:data-type "string", :distinct 7, :commons {"-656776194" 1, "1624841631" 1, "1611117821" 1}, :cardinality 100}}, :rowcount 7}, :query-preview-2 {:fields {:min_long {:data-type "float", :distinct 1, :commons {-71.16667608 1}, :cardinality 100}, :max_long {:data-type "float", :distinct 1, :commons {-70.96367615 1}, :cardinality 100}, :min_lat {:data-type "float", :distinct 1, :commons {42.25418512 1}, :cardinality 100}, :max_lat {:data-type "float", :distinct 1, :commons {42.37746305 1}, :cardinality 100}, :a_lat {:data-type "float", :distinct 1, :commons {42.30005270854828 1}, :cardinality 100}, :a_long {:data-type "float", :distinct 1, :commons {-71.06325855819834 1}, :cardinality 100}, :long_diff {:data-type "float", :distinct 1, :commons {11.16 1}, :cardinality 100}, :lat_diff {:data-type "float", :distinct 1, :commons {6.78 1}, :cardinality 100}}, :rowcount 1}, :gen-viz-8220 {:fields {:rows {:data-type "integer", :distinct 2, :commons {11 1, 35706 1}, :cardinality 100}, :OCCURRED_ON_DATE {:data-type "string", :distinct 1, :commons {"" 2}, :cardinality 50}, :SHOOTING {:data-type "integer", :distinct 2, :commons {1 1, nil 1}, :cardinality 100}}, :rowcount 2}}, :editor? true, :re-pressed.core/keydown {:keys [{:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 87} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 68} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 68} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey true, :keyCode 87} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 87} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 83} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 87} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 65} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 65} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 65} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey true, :keyCode 87} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey true, :keyCode 68} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey true, :keyCode 65} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey true, :keyCode 87} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey true, :keyCode 87} {:altKey false, :ctrlKey false, :metaKey false, :shiftKey false, :keyCode 27}], :event-keys [[[:viz-yard.bricks/select-block "none!"] [{:keyCode 27}]] [[:viz-yard.bricks/redo-one] [{:keyCode 90, :ctrlKey true, :shiftKey true}]] [[:viz-yard.bricks/undo-one] [{:keyCode 90, :ctrlKey true, :shiftKey false}]] [[:viz-yard.bricks/toggle-editor] [{:keyCode 32}]] [[:viz-yard.bricks/next-panel] [{:keyCode 9}]] [[:viz-yard.bricks/stretch-panel :wider] [{:keyCode 68, :shiftKey true}]] [[:viz-yard.bricks/stretch-panel :longer] [{:keyCode 83, :shiftKey true}]] [[:viz-yard.bricks/stretch-panel :narrower] [{:keyCode 65, :shiftKey true}]] [[:viz-yard.bricks/stretch-panel :shorter] [{:keyCode 87, :shiftKey true}]] [[:viz-yard.bricks/panel-depth-up] [{:keyCode 82, :shiftKey true}]] [[:viz-yard.bricks/panel-depth-down] [{:keyCode 70, :shiftKey true}]] [[:viz-yard.bricks/nudge-panel :up] [{:keyCode 87}]] [[:viz-yard.bricks/nudge-panel :down] [{:keyCode 83}]] [[:viz-yard.bricks/nudge-panel :left] [{:keyCode 65}]] [[:viz-yard.bricks/nudge-panel :right] [{:keyCode 68}]]], :clear-keys nil, :always-listen-keys nil, :prevent-default-keys [{:keyCode 32} {:keyCode 83, :ctrlKey true} {:keyCode 9} {:keyCode 70, :ctrlKey true}]}, :client-name :poised-silver-bear-of-volcanic-plateau, :window {:w 3440, :h 1308}, :post-meta {:offenses-drag-285 {:SHOOTING {:distinct 1}, :DISTRICT {:distinct 1}, :* {:rowcount 35717}, :INCIDENT_NUMBER {:distinct 31020}, :OFFENSE_DESCRIPTION {:distinct 186}, :DAY_OF_WEEK {:distinct 7}, :MONTH {:distinct 12}, :YEAR {:distinct 4}, :HOUR {:distinct 24}, :STREET {:distinct 417}, :OFFENSE_CODE_GROUP {:distinct 60}, :UCR_PART {:distinct 4}, :Long {:distinct 1442}, :REPORTING_AREA {:distinct 116}, :Location {:distinct 1443}, :OFFENSE_CODE {:distinct 181}, :Lat {:distinct 1442}, :OCCURRED_ON_DATE {:distinct 29835}}, :gen-viz-820 {:* {:rowcount 1184}, :rows {:distinct 58}, :SHOOTING {:distinct 1}, :OCCURRED_ON_DATE {:distinct 1177}}, :gen-viz-82d {:* {:rowcount 1}}, :offenses-drag-DISTRICT-676 {:* {:rowcount 13}, :rowcnt {:distinct 13}, :DISTRICT {:distinct 12}}, :gen-viz-1103 {:* {:rowcount 8}, :SHOOTING {:distinct 1}, :UCR_PART {:distinct 4}, :rows {:distinct 7}}, :gen-viz-480 {:* {:rowcount 3409}, :UCR_PART {:distinct 4}, :Lat {:distinct 1442}, :Long {:distinct 1442}}, :gen-viz-313 {:* {:rowcount 28}, :YEAR {:distinct 4}, :DAY_OF_WEEK {:distinct 7}, :rows {:distinct 27}}, :gen-viz-457 {:* {:rowcount 1}, :DISTRICT {:distinct 1}}, :gen-viz-82 {:* {:rowcount 1}, :a_lat {:distinct 1}, :min_lat {:distinct 1}, :long_diff {:distinct 1}, :max_lat {:distinct 1}, :lat_diff {:distinct 1}, :max_long {:distinct 1}, :a_long {:distinct 1}, :min_long {:distinct 1}}, :query-preview-2 {:* {:rowcount 1}, :a_lat {:distinct 1}, :min_lat {:distinct 1}, :long_diff {:distinct 1}, :max_lat {:distinct 1}, :lat_diff {:distinct 1}, :max_long {:distinct 1}, :a_long {:distinct 1}, :min_long {:distinct 1}}, :gen-viz-8220 {:* {:rowcount 2}, :rows {:distinct 2}, :SHOOTING {:distinct 1}, :OCCURRED_ON_DATE {:distinct 1}}}, :query-history-meta {:offenses-drag-285 {:SHOOTING {:distinct -1699368385}, :DISTRICT {:distinct -1362972216}, :* {:rowcount 986898672}, :INCIDENT_NUMBER {:distinct -955949646}, :OFFENSE_DESCRIPTION {:distinct 581246673}, :DAY_OF_WEEK {:distinct 1567866270}, :MONTH {:distinct -1391641536}, :YEAR {:distinct -482663325}, :HOUR {:distinct -1737689116}, :STREET {:distinct 1550630168}, :OFFENSE_CODE_GROUP {:distinct -245266363}, :UCR_PART {:distinct -1280666026}, :Long {:distinct 1137557493}, :REPORTING_AREA {:distinct 61787398}, :Location {:distinct -607702883}, :OFFENSE_CODE {:distinct 1221262643}, :Lat {:distinct -30448612}, :OCCURRED_ON_DATE {:distinct -204643168}}, :gen-viz-820 {:* {:rowcount -1544920569}, :rows {:distinct -35135458}, :OCCURRED_ON_DATE {:distinct 20986704}, :SHOOTING {:distinct 151003826}}, :gen-viz-82d {:* {:rowcount 366075113}}, :offenses-drag-DISTRICT-676 {:* {:rowcount -743572825}, :DISTRICT {:distinct -1025291172}, :rowcnt {:distinct 1347416408}}, :gen-viz-1103 {:* {:rowcount -1674097591}, :rows {:distinct 935538281}, :UCR_PART {:distinct 1079287952}, :SHOOTING {:distinct 1964716163}}, :gen-viz-480 {:* {:rowcount 1643935391}, :Lat {:distinct -1651887133}, :Long {:distinct 506507205}, :UCR_PART {:distinct 917038560}}, :gen-viz-313 {:* {:rowcount 979648159}, :rows {:distinct 1798509297}, :YEAR {:distinct -110361910}, :DAY_OF_WEEK {:distinct -642537947}}, :gen-viz-457 {:* {:rowcount -1523669962}, :DISTRICT {:distinct -1583875817}}, :gen-viz-82 {:* {:rowcount -57549636}, :a_lat {:distinct -802635095}, :min_lat {:distinct -1451228052}, :long_diff {:distinct -1097176206}, :max_lat {:distinct 1131328357}, :lat_diff {:distinct -1088768815}, :max_long {:distinct -484151701}, :a_long {:distinct -1614082809}, :min_long {:distinct -789203235}}, :query-preview-2 {:* {:rowcount 366075113}, :a_lat {:distinct -1493358849}, :min_lat {:distinct -154122581}, :long_diff {:distinct -155851364}, :max_lat {:distinct -451772818}, :lat_diff {:distinct -421024977}, :max_long {:distinct 211297747}, :a_long {:distinct -1414358922}, :min_long {:distinct -1250769113}}, :gen-viz-8220 {:* {:rowcount -1299131022}, :rows {:distinct -1370016763}, :OCCURRED_ON_DATE {:distinct -1046712865}, :SHOOTING {:distinct -726899809}}}, :screen-name "boston-pd-districts-map-test", :re-pollsive.core/polling {:rules [{:interval 5, :event [:viz-yard.bricks/update-metadata], :dispatch-event-on-start? false, :started-at 0, :stopped-time-since-last-poll nil, :started-before? true} {:interval 1, :event [:viz-yard.bricks/update-metadata-tabs], :dispatch-event-on-start? false, :started-at 0, :stopped-time-since-last-poll nil, :started-before? true} {:interval 1, :event [:viz-yard.bricks/update-conditionals], :dispatch-event-on-start? false, :started-at 0, :stopped-time-since-last-poll nil, :started-before? true}], :counter 22912}, :websocket-fx.core/sockets {:default {:status :connected, :options {:url "ws://localhost:3000/ws", :format :edn, :on-disconnect [:websocket-fx.core/unsubscribe :default :server-push2], :on-connect [:websocket-fx.core/subscribe :default :server-push2 {:message {:kind :server-push2, :client-name :poised-silver-bear-of-volcanic-plateau, :ui-keypath [:server], :extras {:hello? true}}, :on-message [:viz-yard.http/simple-response]}]}, :subscriptions {:server-push2 {:message {:kind :server-push2, :client-name :poised-silver-bear-of-volcanic-plateau, :ui-keypath [:server], :extras {:hello? true}}, :on-message [:viz-yard.http/simple-response]}}, :requests {#uuid "b5cf6aa5-7860-4358-b974-dd65b0f43d9c" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820], :honey-sql {:select [[[:count 1] :rows] [[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [[[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response], :timeout 500000}, #uuid "e049d405-29fe-430c-968a-680e974a16ce" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820 :* :rowcount], :honey-sql {:select [[[:count 1] :rowcnt]], :from [[{:select [[[:count 1] :rows] [[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [[[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING]} :subq]]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response-post-meta], :timeout 500000}, #uuid "a0f95475-7752-4e98-aada-431a191d943c" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820 :rows :distinct], :honey-sql {:select [[[:count [:distinct :rows]] :distinct-values]], :from [[{:select [[[:count 1] :rows] [[:substr [0 10 :OCCURRED_ON_DATE]] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [2 3]} :subq]]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response-post-meta], :timeout 500000}, #uuid "336cd395-cb54-48ab-92c1-f0819511ea10" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820 :SHOOTING :distinct], :honey-sql {:select [[[:count [:distinct :SHOOTING]] :distinct-values]], :from [[{:select [[[:count 1] :rows] [[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [[[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING]} :subq]]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response-post-meta], :timeout 500000}, #uuid "e8f631f0-0009-4637-a274-deacc4f9427a" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820 :OCCURRED_ON_DATE :distinct], :honey-sql {:select [[[:count [:distinct :OCCURRED_ON_DATE]] :distinct-values]], :from [[{:select [[[:count 1] :rows] [[:substr [0 10 :OCCURRED_ON_DATE]] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [2 3]} :subq]]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response-post-meta], :timeout 500000}, #uuid "9fab6545-e63b-4068-bb29-f046d41bf97e" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820 :OCCURRED_ON_DATE :distinct], :honey-sql {:select [[[:count [:distinct :OCCURRED_ON_DATE]] :distinct-values]], :from [[{:select [[[:count 1] :rows] [[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [[[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING]} :subq]]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response-post-meta], :timeout 500000}, #uuid "fa14f81d-fd56-48cf-b9a9-20835bc5e4ea" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820], :honey-sql {:select [[[:count 1] :rows] [[:substr [0 10 :OCCURRED_ON_DATE]] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [2 3]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response], :timeout 500000}, #uuid "7001e10e-d756-4003-80d0-89a1c136d530" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820 :rows :distinct], :honey-sql {:select [[[:count [:distinct :rows]] :distinct-values]], :from [[{:select [[[:count 1] :rows] [[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [[[:substr 0 10 :OCCURRED_ON_DATE] :OCCURRED_ON_DATE] :SHOOTING]} :subq]]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response-post-meta], :timeout 500000}, #uuid "343bd813-6e38-4716-97f8-1dd785d5382e" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820 :* :rowcount], :honey-sql {:select [[[:count 1] :rowcnt]], :from [[{:select [[[:count 1] :rows] [[:substr [0 10 :OCCURRED_ON_DATE]] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [2 3]} :subq]]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response-post-meta], :timeout 500000}, #uuid "77375bdb-5b29-436a-9806-e4f545dd7b38" {:message {:kind :honey-xcall, :ui-keypath [:gen-viz-820 :SHOOTING :distinct], :honey-sql {:select [[[:count [:distinct :SHOOTING]] :distinct-values]], :from [[{:select [[[:count 1] :rows] [[:substr [0 10 :OCCURRED_ON_DATE]] :OCCURRED_ON_DATE] :SHOOTING], :from [{:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT "A1"]}], :group-by [2 3]} :subq]]}, :connection-id "-1616373432", :client-name :poised-silver-bear-of-volcanic-plateau}, :on-response [:viz-yard.http/socket-response-post-meta], :timeout 500000}}}}, :panels {:reco-preview {:h 9, :w 9, :root [200 200], :name "basic_timeseries_color - \"OCCURRED_ON_DATE, SHOOTING, rows\" - 424", :connection-id "-1616373432", :views {:oz [:vega-lite {:layer [{:encoding {:x {:field :OCCURRED_ON_DATE, :type "temporal", :sort "x"}, :y {:aggregate "sum", :field :rows, :type "quantitative"}, :row {:field nil, :legend nil}, :size {:legend nil}, :shape {:legend nil}, :column {:field nil, :legend nil}, :color {:scale {:scheme "inferno"}, :legend nil, :field :SHOOTING, :type "ordinal"}}, :mark {:type "line", :interpolate "monotone", :point "transparent", :tooltip {:content "encoding"}}}], :data {:values :query-preview}, :config {:view {:stroke "transparent"}, :axis {:domainColor "#ffffff22", :grid true, :font "Lato", :labelColor "#ffffff88", :titleFont "Lato", :titleColor "#ffffff99", :labelFont "Lato", :domain false, :gridColor "#ffffff22", :tickColor "#ffffff22", :axisFont "Lato"}, :legend {:labelFont "Lato", :legendFont "Lato", :labelColor "#ffffff99", :titleColor "#ffffff99", :stroke "#ffffff99", :titleFont "Lato"}, :header {:labelFont "Lato", :titleFont "Lato", :titleColor "#ffffff99"}, :mark {:font "Lato"}, :title {:font "Lato", :subtitleFont "Lato", :labelFont "Lato", :titleFont "Lato", :titleColor "#ffffff99"}}, :width "container", :height :panel-height, :padding 4, :background "transparent"} {:actions false}]}, :queries {:query-preview {:select [[[:count 1] :rows] :OCCURRED_ON_DATE :SHOOTING], :from [:query/offenses-drag-285], :group-by [:OCCURRED_ON_DATE :SHOOTING]}}, :conditionals nil}, :block-3168 {:name "basic_h_bar_color - \"DAY_OF_WEEK, YEAR, rows\" - 644", :w 10, :root [38 18], :h 8, :connection-id "-1616373432", :queries {:gen-viz-313 {:select [[[:count 1] :rows] :YEAR :DAY_OF_WEEK], :from [:query/offenses-drag-285], :group-by [:YEAR :DAY_OF_WEEK]}}, :conditionals nil, :views {:oz [:vega-lite {:layer [{:encoding {:x {:field :YEAR, :type "ordinal"}, :y {:aggregate "sum", :field :rows, :type "quantitative"}, :row {:field nil, :legend nil}, :size {:legend nil}, :shape {:legend nil}, :column {:field nil, :legend nil}, :color {:scale {:scheme "inferno"}, :field :DAY_OF_WEEK, :type "ordinal"}}, :mark {:type "bar", :tooltip {:content "encoding"}}}], :data {:values :gen-viz-313}, :config {:view {:stroke "transparent"}, :axis {:domainColor "#ffffff22", :grid true, :font "Lato", :labelColor "#ffffff88", :titleFont "Lato", :titleColor "#ffffff99", :labelFont "Lato", :domain false, :gridColor "#ffffff22", :tickColor "#ffffff22", :axisFont "Lato"}, :legend {:labelFont "Lato", :legendFont "Lato", :labelColor "#ffffff99", :titleColor "#ffffff99", :stroke "#ffffff99", :titleFont "Lato"}, :header {:labelFont "Lato", :titleFont "Lato", :titleColor "#ffffff99"}, :mark {:font "Lato"}, :title {:font "Lato", :subtitleFont "Lato", :labelFont "Lato", :titleFont "Lato", :titleColor "#ffffff99"}}, :width "container", :height :panel-height, :padding 4, :background "transparent"} {:actions false}]}}, :block-9423 {:name "basic_timeseries_color - \"OCCURRED_ON_DATE, SHOOTING, rows\" - 424", :w 28, :root [38 13], :h 5, :connection-id "-1616373432", :queries {:gen-viz-820 {:select [[[:count 1] :rows] [[:substr :OCCURRED_ON_DATE 1 10] :OCCURRED_ON_DATE] :SHOOTING], :from [:query/offenses-drag-285], :group-by [[:substr :OCCURRED_ON_DATE 1 10] :SHOOTING]}}, :conditionals nil, :views {:oz [:vega-lite {:usermeta {:embedOptions {:renderer "svg"}}, :layer [{:encoding {:x {:field :OCCURRED_ON_DATE, :type "temporal", :sort "x"}, :y {:aggregate "sum", :field :rows, :type "quantitative"}, :row {:field nil, :legend nil}, :size {:legend nil}, :shape {:legend nil}, :column {:field nil, :legend nil}, :color {:scale {:scheme "inferno"}, :legend nil, :field :SHOOTING, :type "ordinal"}}, :mark {:type "line", :interpolate "monotone", :point "transparent", :tooltip {:content "encoding"}}}], :data {:values :gen-viz-820}, :config {:view {:stroke "transparent"}, :axis {:domainColor "#ffffff22", :grid true, :font "Lato", :labelColor "#ffffff88", :titleFont "Lato", :titleColor "#ffffff99", :labelFont "Lato", :domain false, :gridColor "#ffffff22", :tickColor "#ffffff22", :axisFont "Lato"}, :legend {:labelFont "Lato", :legendFont "Lato", :labelColor "#ffffff99", :titleColor "#ffffff99", :stroke "#ffffff99", :titleFont "Lato"}, :header {:labelFont "Lato", :titleFont "Lato", :titleColor "#ffffff99"}, :mark {:font "Lato"}, :title {:font "Lato", :subtitleFont "Lato", :labelFont "Lato", :titleFont "Lato", :titleColor "#ffffff99"}}, :width "container", :height :panel-height, :padding 4, :background "transparent"} {:actions false}]}}, :block-7531 {:name "h_param_buttons - \"DISTRICT\" - 237", :w 37, :root [1 12], :h 3, :connection-id "-1616373432", :queries {:gen-viz-457 {:select [:DISTRICT], :from [:query/offenses-drag-285], :group-by [:DISTRICT], :order-by [:DISTRICT]}, :gen-viz-679 {:vselect [:box :size "auto" :height :panel-height-px :align :center :justify :center :attr {:on-click [:set-parameter "DISTRICT" :DISTRICT]} :style {:border [:if [:= :DISTRICT nil] "1px solid red" "1px solid #ffffff11"], :cursor "pointer", :font-size "33px"} :child [:string :DISTRICT]], :from :gen-viz-457}}, :conditionals nil, :views {:oz [:h-box :size "auto" :align :center :justify :center :gap "10px" :children :gen-viz-679]}}, :block-7228 {:h 4, :w 5, :root [38 9], :name "block-7228", :views {:param [:box :align :center :justify :center :style {:font-size "66px"} :child [:string :offenses-drag-DISTRICT-676/DISTRICT]]}, :queries {}}, :block-7113 {:h 12, :w 37, :connection-id "-1616373432", :name "select-all-offenses", :queries {:offenses-drag-285 {:select [:DAY_OF_WEEK :DISTRICT :HOUR :INCIDENT_NUMBER :Lat :Location :Long :MONTH :OCCURRED_ON_DATE :OFFENSE_CODE :OFFENSE_CODE_GROUP :OFFENSE_DESCRIPTION :REPORTING_AREA :SHOOTING :STREET :UCR_PART :YEAR], :from [:offenses], :where [:= :DISTRICT :offenses-drag-DISTRICT-676/DISTRICT]}}, :root [1 0]}, :block-3834 {:name "basic_h_bar_color - \"SHOOTING, UCR_PART, rows\" - 42", :w 9, :root [48 18], :h 8, :connection-id "-1616373432", :queries {:gen-viz-1103 {:select [[[:count 1] :rows] :UCR_PART :SHOOTING], :from [:query/offenses-drag-285], :group-by [:UCR_PART :SHOOTING]}}, :conditionals nil, :views {:oz [:vega-lite {:layer [{:encoding {:x {:field :UCR_PART, :type "ordinal"}, :y {:aggregate "sum", :field :rows, :type "quantitative"}, :row {:field nil, :legend nil}, :size {:legend nil}, :shape {:legend nil}, :column {:field nil, :legend nil}, :color {:scale {:scheme "inferno"}, :field :SHOOTING, :type "ordinal"}}, :mark {:type "bar", :tooltip {:content "encoding"}}}], :data {:values :gen-viz-1103}, :config {:view {:stroke "transparent"}, :axis {:domainColor "#ffffff22", :grid true, :font "Lato", :labelColor "#ffffff88", :titleFont "Lato", :titleColor "#ffffff99", :labelFont "Lato", :domain false, :gridColor "#ffffff22", :tickColor "#ffffff22", :axisFont "Lato"}, :legend {:labelFont "Lato", :legendFont "Lato", :labelColor "#ffffff99", :titleColor "#ffffff99", :stroke "#ffffff99", :titleFont "Lato"}, :header {:labelFont "Lato", :titleFont "Lato", :titleColor "#ffffff99"}, :mark {:font "Lato"}, :title {:font "Lato", :subtitleFont "Lato", :labelFont "Lato", :titleFont "Lato", :titleColor "#ffffff99"}}, :width "container", :height :panel-height, :padding 4, :background "transparent"} {:actions false}]}}, :block-6644 {:name "point_map_colors - \"Lat, Long, UCR_PART\" - 520", :w 23, :selected-view :oz, :root [43 0], :h 13, :connection-id "-1616373432", :queries {:gen-viz-480 {:select-distinct [:Lat :Long :UCR_PART], :from [:query/offenses-drag-285]}, :gen-viz-82 {:select [[[:min :Long] :min-long] [[:max :Long] :max-long] [[:min :Lat] :min-lat] [[:max :Lat] :max-lat] [[:avg :Lat] :a-lat] [[:avg :Long] :a-long] [[:round [:raw ["(" [:max :Long] " - " [:min :Long] ") * 55"]] 2] :long_diff] [[:round [:raw ["(" [:max :Lat] " - " [:min :Lat] ") * 55"]] 2] :lat_diff]], :from [:query/offenses-drag-285], :where [:and [:<> :Lat -1] [:<> :Lat nil] [:<> :Long -1] [:<> :Long nil]]}}, :conditionals {:country-lines? true, :us-counties? true, :us-states? false, :geo-background? false}, :views {:oz [:box :child [:vega-lite {:autosize "none", :usermeta {:embedOptions {:renderer "svg"}}, :config {:view {:stroke "transparent"}}, :width "container", :background "transparent", :params [{:name "tx", :expr "width/2"} {:name "ty", :expr "height/2"} {:name "zoom_precise", :value 12.15, :bind {:input "range", :min 2, :max 30, :step 0.05}} {:name "centerY", :value :gen-viz-82/a_lat.0, :bind {:input "range", :min :gen-viz-82/min_lat.0, :max :gen-viz-82/max_lat.0, :full-min -60, :full-max 60, :step 1.0E-6}} {:name "centerX", :value :gen-viz-82/a_long.0, :bind {:input "range", :min :gen-viz-82/min_long.0, :max :gen-viz-82/max_long.0, :full-min -180, :full-max 180, :step 1.0E-6}} {:name "baseTileSize", :value 256} {:name "tileUrl", :value "https://a.tile.openstreetmap.org/"} {:name "zoom", :expr "ceil(zoom_precise)"} {:name "tilesCount", :expr "pow(2,zoom)"} {:name "tileSize", :expr "baseTileSize*pow(2,zoom_precise-zoom)"} {:name "maxTiles", :expr "ceil(max(height,width)/tileSize +1)"} {:name "basePoint", :expr "invert('projection',[0,0])"} {:name "dii", :expr "((basePoint[0]+180)/360*tilesCount)"} {:name "di", :expr "floor(dii)"} {:name "dx", :expr "round((floor(dii)-dii)*tileSize)"} {:name "djj", :expr "((1-log(tan(basePoint[1]*PI/180) + 1/cos(basePoint[1]*PI/180))/PI)/2 *tilesCount)"} {:name "dj", :expr "floor(djj)"} {:name "dy", :expr "round((floor(djj)-djj)*tileSize)"} {:name "scale", :expr "baseTileSize * pow(2,zoom_precise) / (2 * PI)"}], :layer [[:if :condi/geo-background? {:data {:name "tile_list", :sequence {:start 0, :stop {:signal "maxTiles"}, :as "a"}}, :transform [{:calculate "sequence(0,maxTiles)", :as "b"} {:flatten ["b"]} {:calculate "tileUrl+zoom+'/'+(datum.a+di+tilesCount)%tilesCount+'/'+((datum.b+dj))+'.png'", :as "url"} {:calculate "(datum.a * tileSize + dx)+(tileSize/2)", :as "x"} {:calculate "(datum.b * tileSize + dy)+(tileSize/2)", :as "y"}], :mark {:type "image", :opacity 0.5, :background "#000000", :fill "#000000", :width {:signal "tileSize"}, :height {:signal "tileSize"}}, :encoding {:x {:field "x", :type "quantitative", :scale nil}, :y {:field "y", :type "quantitative", :scale nil}, :url {:field "url", :type "nominal"}}} {:mark "geoshape", :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}}] {:data {:values :gen-viz-480}, :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}, :mark {:type "point"}, :encoding {:latitude {:field :Lat, :type "quantitative"}, :size {:field nil, :type "quantitative"}, :color {:field :UCR_PART, :scale {:scheme "darkmulti"}, :type "nominal"}, :longitude {:field :Long, :type "quantitative"}}, :background "transparent"} [:if :condi/us-counties? {:data {:name "us-counties", :url "https://raw.githubusercontent.com/vega/vega/61dd8b1fdb9a268dc80c986938a5983d27cf8f2c/docs/data/us-10m.json", :format {:type "topojson", :feature "counties"}}, :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}, :mark "geoshape", :encoding {:fill {:value "#a500ff22"}, :fillOpacity {:value 0.1}, :stroke {:value "#00ffa5"}, :strokeWidth {:value 1}}, :background "transparent"} {:mark "geoshape", :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}}] [:if :condi/us-states? {:data {:name "us-states", :url "https://raw.githubusercontent.com/vega/vega/61dd8b1fdb9a268dc80c986938a5983d27cf8f2c/docs/data/us-10m.json", :format {:type "topojson", :feature "states"}}, :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}, :mark "geoshape", :encoding {:fill {:value "#005aff"}, :fillOpacity {:value 0.1}, :stroke {:value "#ff00da"}, :strokeWidth {:value 2}}, :background "transparent"} {:mark "geoshape", :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}}] [:if :condi/country-lines? {:data {:name "world", :url "https://vega.github.io/vega-datasets/data/world-110m.json", :format {:type "topojson", :feature "countries"}}, :mark "geoshape", :encoding {:fill {:value "#001233"}, :fillOpacity {:value 0.1}, :stroke {:value "#ffa500"}, :strokeWidth {:value 2}}, :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}} {:mark "geoshape", :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}}] {:data {:name "us-states", :url "ext/boston_police_districts.json", :format {:type "topojson", :feature "collection"}}, :projection {:type "mercator", :scale {:expr "scale"}, :center [{:signal "centerX"} {:signal "centerY"}], :translate [{:signal "tx"} {:signal "ty"}]}, :mark "geoshape", :encoding {:fill {:value "#000000"}, :fillOpacity {:value 0.1}, :stroke {:value "#ffffff12"}, :strokeWidth {:value 2}}, :background "transparent"}], :padding {:top 0, :bottom 0, :left 0, :right 0}, :height :panel-height+50} {:actions false}]]}}, :block-1943 {:h 9, :w 5, :connection-id "-1616373432", :name "select-DISTRICT-offenses", :queries {:offenses-drag-DISTRICT-676 {:select [:DISTRICT [[:count 1] :rowcnt]], :from [:offenses], :group-by [:DISTRICT], :order-by [[:rowcnt :desc]]}}, :root [38 0]}}, :selected-block "none!", :query-history-condi {:country-lines? 1679736966, :us-counties? 1679736966, :us-states? 197536166, :geo-background? 197536166}, :click-param {:recos-sys nil, :fields-sys {:field_name "DISTRICT", :field_type "VARCHAR(3)", :data_type "string"}, :tables-sys {:db_schema "none", :db_catalog nil, :connection_id "-1616373432", :schema_cat nil, :table_name "offenses", :fields 18}, :files-sys {:file_path "./screens/boston-pd-districts-map-test.edn", :screen_name "boston-pd-districts-map-test", :blocks 7, :queries 10, :ts "2023-01-15T15:42:43.623Z"}, :viz-tables-sys {:table "offenses_drag_285", :recos 407}, :block-7531 {"DISTRICT" "C11"}, :offenses-drag-DISTRICT-676 {:DISTRICT "A1", :rowcnt 35717}, :viz-shapes0-sys {:shape "basic_timeseries_color", :recos 21}, :connections-sys {:database_name "SQLite", :connection_id "-1616373432"}, :conn-list {:connection_id "-1245280001", :database_name "Microsoft SQL Server", :database_version "15.00.4261"}}, :post-condi {:us-counties? [{:v 1}], :geo-background? [{:v 0}], :us-states? [{:v 0}], :country-lines? [{:v 1}]}}